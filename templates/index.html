<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <meta http-equiv="X-UA-Compatible" content="ie=edge">#}
    <title>新闻文本分类</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.1.4.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>
    <script src="static/js/jquery.js"></script>
		<!-- Main Slider -->
{#    <script src="static/js/classie.js"></script>#}
{#    <script src="static/js/main.slider.js"></script>#}
{#		<!-- Sidebar Menu -->#}
{#    <script src="static/js/sidebarEffects.js"></script>#}
{#		<!-- Special Scripts -->#}
{#    <script src="static/js/script.js"></script>#}
    <link rel="stylesheet" type="text/css" href="static/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <link rel="stylesheet" type="text/css" href="static/css/animations.css">
    <link href='http://fonts.googleapis.com/css?family=Dosis:200,300,400,500,600,700,800&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <script src="static/js/modernizr.custom.js"></script>
    <style>
        .progress-div{
            background: rgba(0, 0, 0, 0.03);
            width: 1000px;
            height: 140px;
            padding: 60px 20px;
            visibility: hidden;
        }
        .progress{
            margin: 0;
            /*position: fixed;*/
            /*top: 100px;*/
            /*left: 20px;*/
            width: 100%;
        }

    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
		<script src="../../flat-ui/js/html5shiv.js"></script>
		<![endif]-->
</head>
<body>

	<div id="off-canvas-container" class="off-canvas-container">
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Header Start -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<header id="header" class="header at-padding-large-top at-padding-large-bottom cbp-af-header">
			<div class="container">
				<!-- Logo -->
				<a href="/index" id="logo">
					<img class="logo" src="static/img/logo.png" alt="Alabanda Html Theme"/>
				</a>
				<!-- Navigation Button -->
				<div class="navigation-btn">
					<!-- content push wrapper -->
					<div class="off-canvas-pusher">
						<div class="off-canvas-content"><!-- this is the wrapper for the content -->
							<div class="off-canvas-content-inner"><!-- extra div for emulating position:fixed of the menu -->
								<div id="off-canvas-trigger-effects">
									<button class="btn buzz-out" type="button" data-effect="off-canvas-effect"><i class="fa fa-bars"></i></button>
								</div>
							</div><!-- /off-canvas-content-inner -->
						</div><!-- /off-canvas-content -->
					</div><!-- /off-canvas-pusher -->
				</div>

			</div>
		</header>
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Header End -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Off Canvas Start -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<nav class="off-canvas-menu off-canvas-effect">
			<div class="canvas-menu-fix">

				<h3>Main Menu</h3>
				<ul>
					<li><a href="/index">Home</a></li>
				</ul>
			</div>
		</nav>
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Off Canvas End -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Main Slider Start -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
			<div id="main-slider" class="main-slider main-slider-fullwidth fxSoftPulse">
				<ul class="itemwrap">
					<li class="current">
						<img src="static/img/slides/slide-1.jpg" alt="img06"/>
						<div class="slider-content">
							<!-- Content -->
							<h1 class="title">待分类新闻</h1>
							<div class="line"></div>
							<p class="lead">News to be classified.</p>
							<h6>单条新闻分类:</h6>
							<br></br>
							<form action="news" method="post">
                                <input type="text" id="news" name="news" style="height: 50px;width:580px;" placeholder="请输入要分类的单条新闻"/>&nbsp;
								 <input class="btn pulse" type="submit" value="提交" />
							     <br></br>
                            </form>
                            <br></br>
							<h6>多条新闻分类:</h6>
							<br></br>
                            <form action="upload" method="post" enctype="multipart/form-data">
                                <input type="file" name="newsFile" id="newsFile"style="height: 50px;width:300px;margin: 0px 0px 0px 120px"accept="text/csv">&nbsp;&nbsp;
                                <input class="btn pulse" type="submit" id="sub" value="提交" style="margin: -100px 0px 0px 580px   "/>
							     <br></br>
                            </form>

                            <div  class="progress-div">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 2%;">
                                        2%
                                    </div>
                                </div>
                            </div>
                            </br>
                            <div class="progress-text progress-bar-striped active"  role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 2%;">
                            </div>
						</div>
					</li>
				</ul>

			</div>
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Main Slider End -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<!-- Promo Start -->
		<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	</div>
{#		<script src="static/js/jquery.js"></script>#}
		<!-- Main Slider -->
{#		<script src="static/js/classie.js"></script>#}
{#		<script src="static/js/main.slider.js"></script>#}
{#		<!-- Sidebar Menu -->#}
{#		<script src="static/js/sidebarEffects.js"></script>#}
{#		<!-- Special Scripts -->#}
{#		<script src="static/js/script.js"></script>#}


	</body>
<script>
    $(function () {
        $('#sub').on('click', function () {
            console.log("come in ")
            var log = ""
            var sitv = setInterval(function(){

                var prog_url = '/show_progress'              // prog_url指请求进度的url，后面会在django中设置
                $.getJSON(prog_url, function(num_progress){
                    $('.progress-div').css('visibility', 'visible');
                    $('.progress-bar').css('width', num_progress + '%');
                    $('.progress-bar').text(num_progress + '%');
                    {#$('.progress-text').text( '显示日志'+log );#}
                    $('.progress-text').css('width', '100%');
                    if(num_progress > 99.99){
                        console.log("come in 100")
                        clearInterval(sitv);
                        $('.progress-bar').css('width', '100%');
                        $('.progress-bar').text('100%');
                    }
                });
            }, 10);                                 // 每10毫秒查询一次后台进度

        })
    })
</script>
</html>